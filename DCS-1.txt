DCS-1
1]Arithmetic.java
import java.rmi.Remote;
import java.rmi.RemoteException;

public interface Arithmetic extends Remote {
    double add(double a, double b) throws RemoteException;
    double subtract(double a, double b) throws RemoteException;
    double multiply(double a, double b) throws RemoteException;
    double divide(double a, double b) throws RemoteException;
}


2]ArithmeticImpl.java
import java.rmi.server.UnicastRemoteObject;
import java.rmi.RemoteException;

public class ArithmeticImpl extends UnicastRemoteObject implements Arithmetic {

    protected ArithmeticImpl() throws RemoteException {
        super();
    }

    @Override
    public double add(double a, double b) throws RemoteException {
        return a + b;
    }

    @Override
    public double subtract(double a, double b) throws RemoteException {
        return a - b;
    }

    @Override
    public double multiply(double a, double b) throws RemoteException {
        return a * b;
    }

    @Override
    public double divide(double a, double b) throws RemoteException {
        if (b == 0) throw new RemoteException("Division by zero");
        return a / b;
    }
}

3]ArithmeticServer.java
// Source code is decompiled from a .class file using FernFlower decompiler (from Intellij IDEA).
import java.rmi.registry.LocateRegistry;
import java.rmi.registry.Registry;

public class ArithmeticServer {
   public ArithmeticServer() {
   }

   public static void main(String[] var0) {
      try {
         ArithmeticImpl var1 = new ArithmeticImpl();
         Registry var2 = LocateRegistry.createRegistry(1099);
         var2.rebind("ArithmeticService", var1);
         System.out.println("Arithmetic Server is ready and bound to 'ArithmeticService'");
      } catch (Exception var3) {
         System.err.println("Server exception: " + var3.toString());
         var3.printStackTrace();
      }

   }
}


4]ArithmeticClient.java
import java.rmi.registry.LocateRegistry;
import java.rmi.registry.Registry;
import java.util.Scanner;

public class ArithmeticClient {
    public static void main(String[] args) {
        try (Scanner scanner = new Scanner(System.in)) {
            Registry registry = LocateRegistry.getRegistry("localhost");
            Arithmetic stub = (Arithmetic) registry.lookup("ArithmeticService");

            System.out.println("Remote Arithmetic Client");
            
            while (true) {
                System.out.print("Enter first number (or 'exit' to quit): ");
                String inputA = scanner.nextLine();
                if (inputA.equalsIgnoreCase("exit")) break;
                double a;
                try {
                    a = Double.parseDouble(inputA);
                } catch (NumberFormatException e) {
                    System.out.println("Invalid number. Try again.");
                    continue;
                }

                System.out.print("Enter second number: ");
                String inputB = scanner.nextLine();
                double b;
                try {
                    b = Double.parseDouble(inputB);
                } catch (NumberFormatException e) {
                    System.out.println("Invalid number. Try again.");
                    continue;
                }

                System.out.println("Choose operation:");
                System.out.println("1 - Add");
                System.out.println("2 - Subtract");
                System.out.println("3 - Multiply");
                System.out.println("4 - Divide");
                System.out.print("Your choice: ");
                String choice = scanner.nextLine();

                try {
                    double result;
                    switch (choice) {
                        case "1":
                            result = stub.add(a, b);
                            System.out.println("Result: " + a + " + " + b + " = " + result);
                            break;
                        case "2":
                            result = stub.subtract(a, b);
                            System.out.println("Result: " + a + " - " + b + " = " + result);
                            break;
                        case "3":
                            result = stub.multiply(a, b);
                            System.out.println("Result: " + a + " * " + b + " = " + result);
                            break;
                        case "4":
                            result = stub.divide(a, b);
                            System.out.println("Result: " + a + " / " + b + " = " + result);
                            break;
                        default:
                            System.out.println("Invalid choice. Try again.");
                    }
                } catch (Exception e) {
                    System.out.println("Error performing operation: " + e.getMessage());
                }

                System.out.println();
            }

            System.out.println("Client exiting...");

        } catch (Exception e) {
            System.err.println("Client exception: " + e.toString());
            e.printStackTrace();
        }
    }
}


